<!DOCTYPE html><html><head><meta charset='utf-8'><title>Classification ONNX Demo</title></head>
<body><h2>Breast Cancer Classification (PyTorch → ONNX → onnxruntime-web)</h2>
<div id="form"></div><p><button id="predict">Predict</button></p><pre id="out"></pre>
<script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
<script>
async function loadMeta(){const r=await fetch('cls_meta.json'); return await r.json();}
function buildForm(names){const f=document.getElementById('form');names.forEach(n=>{const d=document.createElement('div');d.innerHTML=`<label>${n}: <input type='number' step='any' id='f_${n}'></label>`;f.appendChild(d);});}
function standardize(x,m,s){return x.map((v,i)=>(v-m[i])/s[i]);}
(async()=>{
  const meta=await loadMeta(); buildForm(meta.feature_names);
  const sess=await ort.InferenceSession.create('cls_model.onnx');
  document.getElementById('predict').onclick=async ()=>{
    const x=meta.feature_names.map(n=>parseFloat(document.getElementById('f_'+n).value||0));
    const xs=standardize(x, meta.x_mean, meta.x_scale);
    const input=new ort.Tensor('float32', new Float32Array(xs), [1, xs.length]);
    const out=await sess.run({input}); const p=out.prob.data[0]; const y=(p>=0.5)?1:0;
    document.getElementById('out').textContent=`Probability: ${p.toFixed(3)} → Pred: ${meta.label_names[y]}`;
  };
})();
</script></body></html>